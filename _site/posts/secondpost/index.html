<!DOCTYPE html><html domain="update-me.com" ga-id="GA ID. Update me. Note, that this is not compatible with the not-yet-commonly used version 4 of Google Analytics" lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><link href="/img/favicon/favicon-192x192.png?hash=2089033c93" rel="icon" type="image/png"><meta content="#f9c412" name="theme-color"><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name="robots"><title>APIs: Fetching Data and an Example via Wikipedia</title><meta content="APIs: Fetching Data and an Example via Wikipedia" property="og:title"><meta content="APIs: Fetching Data and an Example via Wikipedia" name="description"><meta content="APIs: Fetching Data and an Example via Wikipedia" property="og:description"><meta content="summary_large_image" name="twitter:card"><meta content="@update_me" name="twitter:site"><meta content="@update_me" name="twitter:creator"><link href="https://update-me.com/posts/secondpost/" rel="canonical"><meta content="no-referrer-when-downgrade" name="referrer"><link href="/feed/feed.xml" rel="alternate" type="application/atom+xml" title="Drew's 11ty Demo"><link href="/" rel="preconnect" crossorigin=""><link href="/fonts/Inter-3.19.var.woff2" rel="preload" type="font/woff2" as="font" crossorigin=""><script async="" defer="" src="/js/min.js?hash=8db32dcb3a"></script><script async="" defer="" src="/js/cached.js?hash=249e461eb1"></script><script csp-hash="sha256-Ky9qZOPnMhQV/s7Fdb9TYAOfU4KtWNqCZaFK8tSzXa0=">if (/Mac OS X/.test(navigator.userAgent))document.documentElement.classList.add('apple')</script><style>:root{--primary: #f9c412;--primary-dark: #e7bf60;--main-width: calc(100vw - 3em)}main img{content-visibility:auto}article *{scroll-margin-top:50px}header nav{position:fixed;padding:.375em 1.5em;background:rgba(255,255,255,.9);font-weight:200;text-align:right}@media (min-width:37.5em){:root{--main-width: calc(37.5em - 3em)}}dialog,share-widget{position:fixed;opacity:.9}share-widget{right:20px;bottom:20px}share-widget div{width:30px;height:30px;background-image:url(/img/share.svg);background-repeat:no-repeat;background-position:center}.apple share-widget div{background-image:url(/img/share-apple.svg)}body,share-widget button{margin:0}share-widget button:active{transform:scale(1.2)}dialog{background-color:#8dff80;z-index:1000}header aside{font-style:italic}#nav{z-index:2;position:relative}#reading-progress,header nav{z-index:1;width:100vw;left:0;top:0}#reading-progress{background-color:var(--primary);position:absolute;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}@font-face{font-display:optional;font-family:"Inter UI";font-weight:100 900;font-style:oblique 0deg 10deg;src:url(/fonts/Inter-3.19.var.woff2) format("woff2")}button,html{line-height:1.15}html{-webkit-text-size-adjust:100%;font-family:Inter UI,sans-serif;--font-family: Inter UI, sans-serif}h1{font-size:3em;line-height:1.25;margin:.67em 0 .5em;font-size:2.074rem}a{background-color:transparent;color:#f9c412;text-decoration:none;color:var(--primary)}b{font-weight:700}code{overflow-x:auto;border-radius:.3em;color:#e2777a;padding:0 .3em;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:90%;background:#2d2d2d}img{border-style:none;max-width:100%;height:auto;margin:0 auto}button{font-family:inherit;font-size:100%;overflow:visible;text-transform:none}[type=button],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}h2{font-size:2.5em;line-height:1.2;margin-bottom:.6em}body,p,ul{font-size:1em}p,ul{margin-bottom:1.5em}h1,h2{line-height:2.4rem;margin-bottom:1.36rem}h2{font-size:1.728rem}body,p,ul{font-size:1rem;line-height:1.6}p,ul{margin-bottom:1.36rem}@media (min-width:600px){h1{font-size:4.3978rem;line-height:4.4rem}h2{font-size:3.1097rem;line-height:3.52rem}body,p,ul{font-size:1.1rem;line-height:1.6}h1,h2,p,ul{margin-bottom:1.496rem}}@media (min-width:1200px){h1{font-size:6.0756rem;line-height:6.72rem}h2{font-size:4.05rem;line-height:4.8rem}body,p,ul{font-size:1.2rem;line-height:1.6}h1,h2,p,ul{margin-bottom:1.632rem}}h1,h2{font-family:var(--font-family)}h2{font-style:italic}a:hover{text-decoration:underline}dt{font-weight:600;padding-top:.75em;padding-left:.75em}button{border-radius:.3em;max-width:100%;background:#f2f2f2;color:#191919;cursor:pointer;display:inline-block;padding:.75em 1.5em;text-align:center;margin:0 .75em 1.5em 0}button:hover{background:#d9d9d9;color:#000}button:not([disabled]){background:#f9c412;color:#181818;background:var(--primary)}button:not([disabled]):hover{background:#ba9005;color:#000;background:var(--primary-dark)}*{border:0;box-sizing:border-box}body,header nav a{font-family:var(--font-family)}body{background:#181818;color:#eee}header{padding:4.5em 1.5em 3em;width:37.5em;margin:0 auto;text-align:center;max-width:100%;display:flex;align-items:center;flex-direction:column}header p,ul{margin-top:0}header nav h1{float:left;font-size:inherit;line-height:inherit;margin:0;text-align:left}header nav a{font-weight:700;text-decoration:none;color:#181818;margin-left:1.5em}header nav a:first-of-type{margin-left:auto}header nav a:last-of-type{margin-right:1.5em}main{max-width:70rem;margin:0 auto;border-top:.5px solid #ccc}footer{background:rgba(0,0,0,.8);color:#fff;padding:3em;text-align:center}footer>*{margin:1.5em}footer nav a img{vertical-align:middle}footer nav,footer p{font-size:90%}article{max-width:100%;padding:1.5em;width:37.5em;margin:0 auto}blockquote{border-left:1px solid #f9c412;padding:0 1.5em;margin:1.5em 0 1.5em 1.5em;border-left:1px solid var(--primary)}blockquote footer{background:0 0;display:block;color:#ccc;padding:.75em 0;font-size:90%;text-align:start}</style></head><body><header><nav><div id="nav"><h1><a href="/" title="Homepage">Drew's 11ty Demo</a></h1><a href="/about/">About</a></div><div id="reading-progress" aria-hidden="true"></div></nav><h1>APIs: Fetching Data and an Example via Wikipedia</h1><aside>4 min read.</aside><dialog id="message"></dialog><noscript><img alt="" height=1 src="/.netlify/functions/ga?v=1&_v=j83&t=pageview&dr=https%3A%2F%2Fno-script.com&_s=1&dh=update-me.com&dp=%2Fposts%2Fsecondpost%2F&ul=en-us&de=UTF-8&dt=APIs%3A%20Fetching%20Data%20and%20an%20Example%20via%20Wikipedia&tid=GA ID. Update me. Note, that this is not compatible with the not-yet-commonly used version 4 of Google Analytics" style=display:none width=1></noscript></header><main><article><p>APIs, or Application Programming Interfaces, are an incredibly useful tool for accessing data from an external source. Retrieving, storing, and using this data typically requires a programmatic API call, which can be done using a language such as JavaScript. In this article, we'll be discussing how data can be retrieved via the fetch() function in JavaScript, then analyzing a commonly-used API that can be accessed through an HTML tag: the <a href="https://en.wikipedia.org/w/api.php">Wikipedia API</a>.</p><h2 id="fetch()ing-data">fetch()ing Data <a href="#fetch()ing-data" class="direct-link">#</a></h2><p>When working with an API, a common starting point is calling upon the API to retrieve some information. This info can then be stored in a variable within your application, which gives you plenty of options for using and manipulating that data. One way this can be done in JavaScript is using the fetch() function, which directly calls upon an API by treating the API's link as a parameter.</p><p>Below is an example fetch() call, which accesses an API called "FreeGeoIP" that returns a user's IP address when called:</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z2l6S0C-1920w.avif 1920w, /img/remote/Z2l6S0C-1280w.avif 1280w, /img/remote/Z2l6S0C-640w.avif 640w, /img/remote/Z2l6S0C-320w.avif 320w" type="image/avif"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z2l6S0C-1920w.webp 1920w, /img/remote/Z2l6S0C-1280w.webp 1280w, /img/remote/Z2l6S0C-640w.webp 640w, /img/remote/Z2l6S0C-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z2l6S0C-1920w.png 1920w, /img/remote/Z2l6S0C-1280w.png 1280w, /img/remote/Z2l6S0C-640w.png 640w, /img/remote/Z2l6S0C-320w.png 320w" type="image/png"><img alt="getGEOIPData() function breakdown" height="1155" src="/img/remote/Z2l6S0C-1920w.png" style="background-size:cover;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 2605 1155'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAFCAYAAABxeg0vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVQImX3OsQ6CMBgE4Lb8KrYKbYWKaWkk0Lgx8f6vdobKoDE6fLnpcsfKZoT2M1T3wNElyHYA2Tt47VGYHmJLukQUJoDxKmBnE0j3YOoKduq+8PMtYysyEdJNIB1fBeW2/IHsAB1nyLDg0Cbwyn/IK+/Log7YNyOEjtl68V/hCbzcRqC4WNijAAAAAElFTkSuQmCC'%3E%3C/image%3E%3C/svg%3E&quot;)" width="2605" decoding="async" loading="lazy"></picture></p><p>As you can see, the getGEOIPData() function handles the fetch() method call, where the API's link is one of the parameters passed into fetch(). The API call reaches out to the API at this link, then uses the response that is returned to determine whether to store data from the fetch() call. In this case, a successful API call would grant us access to information such as the IP address' geographic coordinates, city, and state, which we are storing further down in the getGEOIPData() function.</p><p>Since I'm working with <a href="https://lit.dev/">LitElement</a> in this case, you can see I'm assigning the data I got back to global variables that were initially created in the application's constructor. This allows me to mutate the location information in my constructor, and carry my data changes throughout my entire web page, every time I make another call to the API--such as when I press a button to call it or refresh the page.</p><h2 id="the-wikipedia-api">The Wikipedia API <a href="#the-wikipedia-api" class="direct-link">#</a></h2><p>Using the data we stored in getGEOIPData(), we could learn more about the location that our IP address is tied to by working with the Wikipedia API. The Wikipedia API can be accessed using a fetch() call as well, or through <a href="https://www.npmjs.com/package/@lrnwebcomponents/wikipedia-query">this</a> very cool HTML tag that simplifies the call into an embeddable component. For this article, we'll be using that tag, which is called <code>wikipedia-query</code>. This is incredibly useful, as a simple import and implementation of the tag allows us to embed a preview of a Wikipedia article directly into our web page, like so:</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z2uv0g5-1920w.avif 1920w, /img/remote/Z2uv0g5-1280w.avif 1280w, /img/remote/Z2uv0g5-640w.avif 640w, /img/remote/Z2uv0g5-320w.avif 320w" type="image/avif"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z2uv0g5-1920w.webp 1920w, /img/remote/Z2uv0g5-1280w.webp 1280w, /img/remote/Z2uv0g5-640w.webp 640w, /img/remote/Z2uv0g5-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z2uv0g5-1920w.png 1920w, /img/remote/Z2uv0g5-1280w.png 1280w, /img/remote/Z2uv0g5-640w.png 640w, /img/remote/Z2uv0g5-320w.png 320w" type="image/png"><img alt="Embedded Wikipedia Article Image" height="720" src="/img/remote/Z2uv0g5-1920w.png" style="background-size:cover;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 3352 720'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAECAYAAABodtTSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiElEQVQYlY2Puw6EIBAA+f8P9DojCxgR4SzA+CjmggnaXjHJbjYzyapxHHHOsSwL53my7zvHcfzNdV2orvvQ9z3DMGCtRWt9Y4y5dxGNiDzUW5ur471HtUClyZUWa+EmvnG5P0gpobzPVKYpM8+REAIxRow1iCScK3j/JYSZdV0ppZBzfti2jR9z5P4lNO49LgAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&quot;)" width="3352" decoding="async" loading="lazy"></picture></p><p>All you'd end up adding to your HTML, or in my case the render() function in my Lit implementation, is a <code>wikipedia-query</code> tag with the search parameter tied to whatever I want. Below, you can see the three different options I went with--all of which are information I pulled from the IP address data returned from the API call discussed earlier:</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z1zLFc5-1920w.avif 1920w, /img/remote/Z1zLFc5-1280w.avif 1280w, /img/remote/Z1zLFc5-640w.avif 640w, /img/remote/Z1zLFc5-320w.avif 320w" type="image/avif"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z1zLFc5-1920w.webp 1920w, /img/remote/Z1zLFc5-1280w.webp 1280w, /img/remote/Z1zLFc5-640w.webp 640w, /img/remote/Z1zLFc5-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/remote/Z1zLFc5-1920w.png 1920w, /img/remote/Z1zLFc5-1280w.png 1280w, /img/remote/Z1zLFc5-640w.png 640w, /img/remote/Z1zLFc5-320w.png 320w" type="image/png"><img alt="Wikipedia-query tags" height="182" src="/img/remote/Z1zLFc5-1920w.png" style="background-size:cover;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1697 182'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAADCAYAAACJZs+gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVQYlS2Oy26CQABFUWaAirhhHjwLCgM4MZrURduk//9bpwFdnNzVvfcEQi+E+UiYD+yV40P3NGdH8Tkga0/S/3IoPLFypO0XO+MQzZNjfSfWjqx+kNR3hBmJ9EyoHGLNfNgIpPUIPW2EeiG1Z4ZpoepGouZGcvnjWN5IzEzWfSPKmdhekebN2s/X0QWpHLtTTZCVbyoCYZbXq3Ls1cRB93TDhG0vyMoTdz+khSexV07tE1F4Ij0g9byZbv3VdjOfXgepIUjtxj/Cplr4mh/c8QAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&quot;)" width="1697" decoding="async" loading="lazy"></picture></p><p>Using a tag like those pictured above and an import call, I could very easily learn more about my current location based on the IP address that my device is using to access the internet--all in a web page!</p><blockquote><p>Here's the import statement you'd need to make it work: <code>import { WikipediaQuery } from '@lrnwebcomponents/wikipedia-query/wikipedia-query.js';</code></p></blockquote><p>All of this is possible because Wikipedia's powerful API allows a user to enter a search term into an API call, and returns bundled information that can then be elegantly presented to a user.</p><p>This is just scratching the surface of APIs and their capabilities, but it shows just how limitless their uses and possibilities can be!</p><h1>🙏🙏🙏</h1><p>Since you've made it this far, <a href="https://update-me.com/posts/secondpost/" on-click="share">sharing</a> this article on your favorite social media network would be highly appreciated 💖! For feedback, please <a href="https://twitter.com/update_me" rel="noopener" target="_blank">ping me on Twitter.</a></p><share-widget><button aria-label="Share" href="https://update-me.com/posts/secondpost/" on-click="share"><div></div></button></share-widget><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"APIs: Fetching Data and an Example via Wikipedia","image":["https://update-me.com/img/remote/Z2l6S0C-1920w.png","https://update-me.com/img/remote/Z2uv0g5-1920w.png","https://update-me.com/img/remote/Z1zLFc5-1920w.png"],"author":"Drew Ronk","genre":"Insert a schema.org genre","publisher":{"@type":"Organization","name":"Yours truly","logo":{"@type":"ImageObject","url":"/img/favicon/favicon-192x192.png?hash=2089033c93"}},"url":"https://update-me.com/posts/secondpost/","mainEntityOfPage":"https://update-me.com/posts/secondpost/","datePublished":"2022-01-31","dateModified":"2022-02-28","description":"APIs, or Application Programming Interfaces, are an incredibly useful tool for accessing data from an external source. Retrieving, storing,..."}</script><p>Published <time datetime="2022-01-31">31 Jan 2022</time></p></article></main><footer><a href="/about/">Drew Ronk</a></footer></body></html>